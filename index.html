<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Chatbot Xmod - White Neon</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&display=swap" rel="stylesheet">
  <style>
    /* Reset CSS cơ bản */
    * { box-sizing: border-box; margin: 0; padding: 0; }
    html, body {
      height: 100%;
      background: #000;
      color: #fff;
      font-family: 'Rajdhani', 'Arial', sans-serif;
      overflow: hidden;
      cursor: none; /* Ẩn cursor để dùng custom cursor */
    }

    /* ===== WHITE NEON & CYBERPUNK EFFECTS ===== */
    
    /* Dynamic animated background mesh */
    .dynamic-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 20% 80%, #1a1a1a 0%, transparent 50%),
        radial-gradient(circle at 80% 20%, #333 0%, transparent 50%),
        radial-gradient(circle at 40% 40%, #555 0%, transparent 50%),
        linear-gradient(135deg, #000 0%, #111 50%, #000 100%);
      background-size: 400% 400%, 300% 300%, 500% 500%, 100% 100%;
      animation: 
        meshMove1 8s ease-in-out infinite,
        meshMove2 12s ease-in-out infinite,
        meshMove3 10s ease-in-out infinite;
      z-index: -10;
    }

    @keyframes meshMove1 {
      0%, 100% { background-position: 0% 50%, 50% 50%, 25% 25%, 0% 0%; }
      50% { background-position: 100% 50%, 25% 75%, 75% 75%, 0% 0%; }
    }

    @keyframes meshMove2 {
      0%, 100% { background-size: 400% 400%, 300% 300%, 500% 500%, 100% 100%; }
      50% { background-size: 500% 500%, 400% 400%, 300% 300%, 100% 100%; }
    }

    @keyframes meshMove3 {
      0%, 100% { opacity: 0.8; }
      50% { opacity: 1; }
    }

    /* Circuit board pattern overlay */
    .circuit-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        linear-gradient(90deg, transparent 98%, #ffffff 98%, #ffffff 100%),
        linear-gradient(0deg, transparent 98%, #ffffff 98%, #ffffff 100%);
      background-size: 50px 50px;
      opacity: 0.05;
      animation: circuitFlow 5s linear infinite;
      z-index: -5;
    }

    @keyframes circuitFlow {
      0% { background-position: 0% 0%; }
      100% { background-position: 50px 50px; }
    }

    /* Custom cursor trail */
    .cursor {
      position: fixed;
      width: 20px;
      height: 20px;
      border: 2px solid #ffffff;
      border-radius: 50%;
      pointer-events: none;
      z-index: 10000;
      transition: transform 0.1s ease;
      box-shadow: 
        0 0 20px #ffffff,
        inset 0 0 20px rgba(255,255,255,0.2);
    }

    .cursor::before {
      content: '';
      position: absolute;
      top: -10px;
      left: -10px;
      width: 40px;
      height: 40px;
      border: 1px solid rgba(255,255,255,0.3);
      border-radius: 50%;
      animation: cursorPulse 2s infinite;
    }

    @keyframes cursorPulse {
      0% { transform: scale(0.5); opacity: 1; }
      100% { transform: scale(2); opacity: 0; }
    }

    /* Mouse trail particles */
    .trail-particle {
      position: fixed;
      width: 4px;
      height: 4px;
      background: #ffffff;
      border-radius: 50%;
      pointer-events: none;
      z-index: 9999;
      box-shadow: 0 0 10px #ffffff;
    }

    /* Dynamic Island with holographic effect */
    #dynamicIsland {
  position: fixed;
  top: 10px;
  left: 50%;
  transform: translateX(-50%);
  background: #000;
  color: #fff;
  border-radius: 25px;
  padding: 8px 16px;
  font-size: 13px;
  font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, sans-serif;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 8px;
  transition: all 0.6s cubic-bezier(0.32, 0.72, 0, 1);
  z-index: 1000;
  border: 1px solid #333;
  backdrop-filter: blur(20px);
  min-width: 120px;
  justify-content: center;
  box-shadow: 0 4px 20px rgba(0,0,0,0.3);
}

#dynamicIsland.compact {
  width: 120px;
  height: 35px;
  border-radius: 25px;
  padding: 8px 12px;
}

#dynamicIsland.expanded {
  width: 280px;
  height: 30px;
  border-radius: 30px;
  padding: 12px 20px;
}

#dynamicIsland.long {
  width: 200px;
  height: 45px;
  border-radius: 27px;
  padding: 10px 16px;
}

.dynamic-content {
  display: flex;
  align-items: center;
  gap: 10px;
  flex: 1;
  justify-content: center;
}

.dynamic-icon {
  font-size: 16px;
}

.dynamic-text {
  font-size: 13px;
  font-weight: 500;
}

.dynamic-subtext {
  font-size: 11px;
  color: #999;
  margin-left: 4px;
}

.waveform {
  display: flex;
  align-items: center;
  gap: 2px;
}

.wave-bar {
  width: 2px;
  background: #fff;
  border-radius: 1px;
  animation: wave 1.5s ease-in-out infinite;
}

.wave-bar:nth-child(1) { height: 8px; animation-delay: 0s; }
.wave-bar:nth-child(2) { height: 12px; animation-delay: 0.1s; }
.wave-bar:nth-child(3) { height: 6px; animation-delay: 0.2s; }
.wave-bar:nth-child(4) { height: 14px; animation-delay: 0.3s; }
.wave-bar:nth-child(5) { height: 10px; animation-delay: 0.4s; }

@keyframes wave {
  0%, 100% { transform: scaleY(0.5); }
  50% { transform: scaleY(1); }
}

    @keyframes holographicShift {
      0%, 100% { background-position: 0% 50%, 50% 50%; }
      50% { background-position: 100% 50%, 100% 100%; }
    }

    @keyframes holographicRotate {
      100% { transform: rotate(360deg); }
    }

    @keyframes gradientShift {
      0% { background-position: 50% 50%, 50% 50%; }
      50% { background-position: 100% 100%, 100% 100%; }
      100% { background-position: 50% 50%, 50% 50%; }
    }

    #dynamicIsland.expanded {
      padding: 12px 24px;
      border-radius: 30px;
      box-shadow: 0 12px 35px rgba(255,255,255,0.6);
      transform: translateX(-50%) scale(1.05);
    }

    /* Data stream effects */
    .data-stream {
      position: fixed;
      top: 0;
      width: 2px;
      height: 100%;
      background: linear-gradient(to bottom, transparent, #ffffff, transparent);
      animation: dataFlow 3s linear infinite;
      z-index: 1;
    }

    @keyframes dataFlow {
      0% { transform: translateY(-100%); opacity: 0; }
      10%, 90% { opacity: 1; }
      100% { transform: translateY(100%); opacity: 0; }
    }

    /* Container chính */
    .container {
      display: flex; 
      flex-direction: column;
      height: 100%;
    }

    /* Chat Area với white neon effects */
    #chatArea {
      flex: 1;
      overflow-y: auto;
      padding: 70px 10px 80px 10px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      height: calc(100vh - 150px);
      position: relative;
      background: linear-gradient(135deg, #000 0%, #333 25%, #666 50%, #999 75%, #fff 100%);
    }

    /* Ripple effect container */
    .ripple {
      position: absolute;
      border: 2px solid #ffffff;
      border-radius: 50%;
      animation: rippleExpand 0.6s ease-out;
      pointer-events: none;
      z-index: 999;
    }

    @keyframes rippleExpand {
      0% {
        width: 0px;
        height: 0px;
        opacity: 1;
      }
      100% {
        width: 100px;
        height: 100px;
        opacity: 0;
      }
    }

    /* Messages với holographic và 3D effects */
    .message {
      max-width: 85%;
      min-width: 120px;
      padding: 12px 16px;
      border-radius: 18px;
      line-height: 1.5;
      word-wrap: break-word;
      word-break: break-word;
      white-space: pre-wrap;
      opacity: 0;
      transform: translateY(50px) rotateX(90deg) rotateZ(10deg);
      animation: message3DEntrance 1.2s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
      position: relative;
      backdrop-filter: blur(15px);
      overflow: hidden;
      flex-shrink: 0;
      margin-bottom: 8px;
      border: 1px solid rgba(255,255,255,0.3);
      font-family: 'Rajdhani', sans-serif;
      font-weight: 400;
      font-size: 15px;
    }

    .message::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: linear-gradient(45deg, 
        transparent 30%, 
        rgba(255,255,255,0.3) 50%, 
        transparent 70%);
      z-index: -1;
      border-radius: 20px;
      animation: holographicBorder 4s linear infinite;
    }

    @keyframes message3DEntrance {
      0% {
        opacity: 0;
        transform: translateY(50px) rotateX(90deg) rotateZ(10deg) scale(0.3);
        filter: blur(10px);
      }
      50% {
        opacity: 0.8;
        transform: translateY(10px) rotateX(45deg) rotateZ(5deg) scale(1.05);
        filter: blur(2px);
      }
      100% {
        opacity: 1;
        transform: translateY(0) rotateX(0deg) rotateZ(0deg) scale(1);
        filter: blur(0px);
      }
    }

    @keyframes holographicBorder {
      0% { background-position: -100% 0; }
      100% { background-position: 100% 0; }
    }

    .bot {
      background: 
        linear-gradient(135deg, rgba(255,255,255,0.1), transparent),
        linear-gradient(135deg, #2a2a2a, #1a1a1a);
      box-shadow: 
        0 4px 15px rgba(255,255,255,0.3),
        inset 0 1px 0 rgba(255,255,255,0.2);
      align-self: flex-start;
      animation-delay: 0s;
    }

    .user {
      background: 
        linear-gradient(135deg, rgba(200,200,200,0.1), transparent),
        linear-gradient(135deg, #4a4a4a, #3a3a3a);
      box-shadow: 
        0 4px 15px rgba(200,200,200,0.3),
        inset 0 1px 0 rgba(200,200,200,0.2);
      align-self: flex-end;
      animation-delay: 0.2s;
      border: 1px solid rgba(200,200,200,0.3);
    }

    /* Typewriter effect */
    .typewriter {
      overflow: hidden;
      border-right: 2px solid #ffffff;
      white-space: nowrap;
      animation: typewriter 2s steps(40) forwards, blink 0.8s infinite;
    }

    @keyframes typewriter {
      from { width: 0; }
      to { width: 100%; }
    }

    @keyframes blink {
      0%, 50% { border-color: #ffffff; }
      51%, 100% { border-color: transparent; }
    }

    /* Input Area với white neon glow */
    #inputArea {
      display: flex;
      padding: 10px 10px;
      background: 
        linear-gradient(90deg, rgba(255,255,255,0.1), rgba(200,200,200,0.1)),
        rgba(17,17,17,0.95);
      backdrop-filter: blur(20px);
      gap: 10px;
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      z-index: 100;
      border-top: 1px solid #ffffff;
      box-shadow: 
        0 -5px 25px rgba(255,255,255,0.3),
        inset 0 1px 0 rgba(255,255,255,0.1);
    }

    #userInput {
      flex: 1;
      padding: 12px 16px;
      border: 2px solid #ffffff;
      border-radius: 25px;
      background: rgba(0,0,0,0.8);
      color: #ffffff;
      font-size: 14px;
      font-family: 'Rajdhani', sans-serif;
      font-weight: 400;
      transition: all 0.3s ease;
      position: relative;
    }

    #userInput:focus {
      outline: none;
      border-color: #ffffff;
      box-shadow: 
        0 0 30px rgba(255,255,255,0.6),
        inset 0 0 20px rgba(255,255,255,0.1);
      background: rgba(0,0,0,0.9);
      transform: scale(1.02);
      text-shadow: 0 0 10px #ffffff;
    }

    #userInput::placeholder {
      color: rgba(255,255,255,0.5);
    }

    #sendBtn {
      padding: 12px 20px;
      background: linear-gradient(45deg, #ffffff, #cccccc);
      color: #000;
      border: none;
      border-radius: 25px;
      cursor: pointer;
      font-weight: 700;
      font-family: 'Orbitron', monospace;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
      box-shadow: 0 0 20px rgba(255,255,255,0.4);
    }

    #sendBtn::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.6), transparent);
      transition: left 0.5s;
    }

    #sendBtn:hover {
      transform: scale(1.05);
      box-shadow: 0 0 30px rgba(255,255,255,0.8);
      text-shadow: 0 0 10px rgba(0,0,0,0.8);
    }

    #sendBtn:hover::before {
      left: 100%;
    }

    /* Enhanced Mod Cards - FIX ẢNH HIỂN THỊ */
    .mod-card {
      background: 
        linear-gradient(135deg, rgba(255,255,255,0.1), transparent),
        linear-gradient(135deg, #000, #1a1a1a);
      border: 1px solid #ffffff;
      border-radius: 12px;
      overflow: hidden;
      display: flex;
      gap: 12px;
      align-items: flex-start;
      padding: 12px;
      margin: 8px 0;
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      position: relative;
      box-shadow: 0 4px 15px rgba(255,255,255,0.2);
      width: 100%;
    }

    .mod-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
      transition: left 0.5s;
    }

    .mod-card:hover {
      transform: translateY(-5px) scale(1.02);
      box-shadow: 0 15px 35px rgba(255,255,255,0.4);
      border-color: #ffffff;
    }

    .mod-card:hover::before {
      left: 100%;
    }

    .mod-card img {
      width: 80px;
      height: 80px;
      object-fit: cover;
      border-radius: 8px;
      border: 2px solid rgba(255,255,255,0.3);
      flex-shrink: 0;
      box-shadow: 0 0 15px rgba(255,255,255,0.3);
    }

    .mod-info {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .mod-info h4 {
      font-family: 'Orbitron', monospace;
      font-weight: 700;
      font-size: 16px;
      color: #ffffff;
      text-shadow: 0 0 10px rgba(255,255,255,0.5);
      margin: 0;
    }

    .mod-info p {
      font-family: 'Rajdhani', sans-serif;
      font-size: 13px;
      color: rgba(255,255,255,0.8);
      margin: 0;
      line-height: 1.3;
    }

    .mod-info a {
      color: #ffffff;
      text-decoration: none;
      font-family: 'Orbitron', monospace;
      font-weight: 700;
      font-size: 14px;
      text-shadow: 0 0 10px rgba(255,255,255,0.7);
      transition: all 0.3s ease;
      align-self: flex-start;
      padding: 4px 8px;
      border: 1px solid rgba(255,255,255,0.3);
      border-radius: 4px;
      background: rgba(255,255,255,0.1);
    }

    .mod-info a:hover {
      text-shadow: 0 0 15px #ffffff;
      box-shadow: 0 0 20px rgba(255,255,255,0.5);
      transform: scale(1.05);
    }

    /* Floating particles */
    .floating-particle {
      position: fixed;
      width: 4px;
      height: 4px;
      background: #ffffff;
      border-radius: 50%;
      pointer-events: none;
      animation: float 8s infinite ease-in-out;
      box-shadow: 0 0 10px #ffffff;
      z-index: 2;
    }

    @keyframes float {
      0%, 100% { 
        transform: translateY(100vh) translateX(0px) rotate(0deg);
        opacity: 0;
      }
      10% { opacity: 1; }
      50% {
        transform: translateY(50vh) translateX(50px) rotate(180deg);
        opacity: 1;
      }
      90% { opacity: 1; }
      100% { 
        transform: translateY(-10px) translateX(100px) rotate(360deg);
        opacity: 0;
      }
    }

    /* White neon glow text */
    .neon-text {
      color: #ffffff;
      text-shadow: 
        0 0 5px #ffffff,
        0 0 10px #ffffff,
        0 0 15px #ffffff,
        0 0 20px #ffffff;
      animation: neonFlicker 2s infinite alternate;
      font-family: 'Orbitron', monospace;
      font-weight: 700;
    }

    @keyframes neonFlicker {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.8; }
    }

    /* Donate button với white cyberpunk style */
    #donateBtn {
      position: fixed;
      bottom: 90px;
      right: 20px;
      padding: 10px 14px;
      background: linear-gradient(45deg, #ffffff, #cccccc);
      color: #000;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-family: 'Orbitron', monospace;
      font-weight: 700;
      box-shadow: 0 0 20px rgba(255,255,255,0.5);
      z-index: 100;
      transition: all 0.3s ease;
    }

    #donateBtn:hover {
      box-shadow: 0 0 30px rgba(255,255,255,0.8);
      transform: scale(1.1);
    }

    /* Music controls styling */
    .music-info {
      text-align: center;
      padding: 10px;
    }

    .music-controls {
      display: flex;
      justify-content: center;
      gap: 10px;
      margin: 10px 0;
    }

    .music-btn {
      background: rgba(255,255,255,0.1);
      border: 1px solid #ffffff;
      color: #ffffff;
      padding: 8px 12px;
      border-radius: 5px;
      cursor: pointer;
      font-family: 'Orbitron', monospace;
      font-size: 12px;
      transition: all 0.3s ease;
    }

    .music-btn:hover {
      background: rgba(255,255,255,0.2);
      box-shadow: 0 0 15px rgba(255,255,255,0.5);
    }

    /* Battery styling */
    .battery-info {
      display: flex;
      align-items: center;
      gap: 10px;
      margin: 10px 0;
    }

    .battery-bar {
      flex: 1;
      height: 20px;
      background: #333;
      border: 1px solid #ffffff;
      border-radius: 10px;
      overflow: hidden;
      position: relative;
    }

    .battery-fill {
      height: 100%;
      background: linear-gradient(90deg, #ffffff, #cccccc);
      box-shadow: 0 0 10px #ffffff;
      transition: width 0.3s ease;
    }

    /* Responsive */
    @media (max-width: 768px) {
      #chatArea {
        padding: 60px 8px 90px 8px;
      }
      
      #inputArea {
        padding: 7px 8px;
      }
      
      #userInput {
        font-size: 16px;
      }
      
      .message {
        max-width: 90%;
        font-size: 14px;
      }
      
      #dynamicIsland {
        top: 5px;
        font-size: 12px;
        padding: 6px 12px;
      }

      .mod-card {
        flex-direction: column;
        text-align: center;
      }

      .mod-card img {
        width: 100%;
        height: 120px;
        max-width: 200px;
        margin: 0 auto;
      }

      /* Reduce effects on mobile for performance */
      .floating-particle {
        display: none;
      }
      
      .data-stream {
        display: none;
      }
    }

    /* Scrollbar styling */
    #chatArea::-webkit-scrollbar {
      width: 6px;
    }

    #chatArea::-webkit-scrollbar-track {
      background: rgba(255,255,255,0.1);
      border-radius: 3px;
    }

    #chatArea::-webkit-scrollbar-thumb {
      background: rgba(255,255,255,0.5);
      border-radius: 3px;
      box-shadow: 0 0 10px #ffffff;
    }

    #chatArea::-webkit-scrollbar-thumb:hover {
      background: rgba(255,255,255,0.8);
    }
    /* Video character overlay - fixed version */
#dynamicIsland::after {
  content: '';
  position: absolute;
  left: 12px;
  top: 50%;
  transform: translateY(-50%);
  width: 16px;
  height: 16px;
  background-image: url('https://files.catbox.moe/1jql0f.gif');
  background-size: cover;
  background-position: center;
  border-radius: 50%;
  opacity: 1;
  transition: all 0.3s ease;
  z-index: 2;
  display: none;
}

#dynamicIsland.expanded::after,
#dynamicIsland.message::after,
#dynamicIsland.music::after,
#dynamicIsland.charging::after {
  display: block;
  opacity: 1;
}
  </style>
</head>
<body>
  <!-- Dynamic animated background -->
  <div class="dynamic-bg"></div>
  <div class="circuit-overlay"></div>

  <!-- Custom cursor -->
  <div class="cursor"></div>

  <!-- Data streams -->
  <div class="data-stream" style="left: 10%;"></div>
  <div class="data-stream" style="left: 50%; animation-delay: 1s;"></div>
  <div class="data-stream" style="left: 80%; animation-delay: 2s;"></div>

  <!-- Dynamic Island -->
  <div id="dynamicIsland">
    <span id="dynamicContent"></span>
    <span id="dynamicIcon">🕐</span>
  <span class="dynamic-text" id="dynamicText"></span>
    <span class="dynamic-subtext" id="dynamicSubtext"></span>
</div>
  <!-- Chat Container -->
  <div class="container">
    <div id="chatArea"></div>
    <div id="inputArea">
      <input type="text" id="userInput" placeholder="Nhập lệnh..." />
      <button id="sendBtn">SEND</button>
    </div>
  </div>

  <!-- Donate Button -->
  <button id="donateBtn">DONATE</button>

  <!-- Modal QR -->
<div id="qrModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.8); z-index: 10000; justify-content: center; align-items: center; backdrop-filter: blur(10px);">
  <div style="background: linear-gradient(135deg, #1a1a1a, #000); border: 2px solid #ffffff; border-radius: 20px; padding: 30px; text-align: center; box-shadow: 0 0 30px rgba(255,255,255,0.5);">
    <h3 style="color: #ffffff; font-family: 'Orbitron', monospace; margin-bottom: 20px; text-shadow: 0 0 10px #ffffff;">QUANTUM DONATE</h3>
    <img src="https://i.postimg.cc/YqG9JCtp/i-Pay-Fri-Aug-22-10-47-44-GMT-07-00-2025.jpg" alt="QR Donate" style="border: 2px solid #ffffff; border-radius: 10px; box-shadow: 0 0 20px rgba(255,255,255,0.3);">
    <button id="closeQr" style="margin-top: 20px; padding: 10px 20px; background: linear-gradient(45deg, #ffffff, #cccccc); color: #000; border: none; border-radius: 10px; font-family: 'Orbitron', monospace; font-weight: 700; cursor: pointer; box-shadow: 0 0 15px rgba(255,255,255,0.4);">ĐÓNG</button>
  </div>
</div>

  <script>
    // ===== INTERACTIVE EFFECTS =====
    
    // Custom cursor tracking
    const cursor = document.querySelector('.cursor');
    let mouseX = 0, mouseY = 0;
    let cursorX = 0, cursorY = 0;

    document.addEventListener('mousemove', (e) => {
      mouseX = e.clientX;
      mouseY = e.clientY;
    });

    function updateCursor() {
      cursorX += (mouseX - cursorX) * 0.1;
      cursorY += (mouseY - cursorY) * 0.1;
      
      cursor.style.left = cursorX - 10 + 'px';
      cursor.style.top = cursorY - 10 + 'px';
      
      requestAnimationFrame(updateCursor);
    }
    updateCursor();

    // Mouse trail particles
    let trailParticles = [];
    document.addEventListener('mousemove', (e) => {
      if (Math.random() < 0.3) {
        createTrailParticle(e.clientX, e.clientY);
      }
    });

    function createTrailParticle(x, y) {
      const particle = document.createElement('div');
      particle.className = 'trail-particle';
      particle.style.left = x + 'px';
      particle.style.top = y + 'px';
      document.body.appendChild(particle);

      // Animate particle
      let opacity = 1;
      let size = 4;
      const animate = () => {
        opacity -= 0.05;
        size += 0.2;
        particle.style.opacity = opacity;
        particle.style.width = size + 'px';
        particle.style.height = size + 'px';
        
        if (opacity > 0) {
          requestAnimationFrame(animate);
        } else {
          particle.remove();
        }
      };
      animate();
    }

    // Ripple effect on click
    document.addEventListener('click', (e) => {
      createRipple(e.clientX, e.clientY);
    });

    function createRipple(x, y) {
      const ripple = document.createElement('div');
      ripple.className = 'ripple';
      ripple.style.left = (x - 50) + 'px';
      ripple.style.top = (y - 50) + 'px';
      document.body.appendChild(ripple);
      
      setTimeout(() => ripple.remove(), 600);
    }

    // Floating particles
    function createFloatingParticle() {
      const particle = document.createElement('div');
      particle.className = 'floating-particle';
      particle.style.left = Math.random() * 100 + 'vw';
      particle.style.animationDuration = (Math.random() * 5 + 6) + 's';
      particle.style.animationDelay = Math.random() * 2 + 's';
      particle.style.opacity = Math.random() * 0.8 + 0.2;
      
      document.body.appendChild(particle);
      setTimeout(() => particle.remove(), 12000);
    }

    // Create floating particles periodically
    setInterval(createFloatingParticle, 300);

    // ===== CHAT FUNCTIONALITY =====
    
    const dynamicContent = document.getElementById('dynamicContent');
    const dynamicIsland = document.getElementById('dynamicIsland');
    const dynamicIcon = document.getElementById('dynamicIcon');
    const chatArea = document.getElementById('chatArea');
    const userInput = document.getElementById('userInput');
    const sendBtn = document.getElementById('sendBtn');

    function updateTime() {
      const now = new Date();
      const hours = String(now.getHours()).padStart(2,'0');
      const mins = String(now.getMinutes()).padStart(2,'0');
      dynamicContent.textContent = hours + ':' + mins;
    }

    updateTime();
    setInterval(updateTime, 60000);

    function addMessage(text, className, useTypewriter = false) {
      const msgDiv = document.createElement('div');
      msgDiv.classList.add('message', className);
      
      if (useTypewriter && className === 'bot') {
        msgDiv.innerHTML = '<span class="typewriter neon-text">' + text + '</span>';
      } else {
        msgDiv.textContent = text;
      }
      
      chatArea.appendChild(msgDiv);
      chatArea.scrollTop = chatArea.scrollHeight;
    }

    function addHtmlMessage(html, className) {
      const msgDiv = document.createElement('div');
      msgDiv.classList.add('message', className);
      msgDiv.innerHTML = html;
      chatArea.appendChild(msgDiv);
      chatArea.scrollTop = chatArea.scrollHeight;
    }

    function showDynamic(text, icon = '📱', duration = 3000) {
      const iconSpan = document.getElementById('dynamicIcon');
      dynamicContent.textContent = text;
      iconSpan.textContent = icon;
      dynamicIsland.classList.add('expanded');
      
      setTimeout(() => {
        dynamicIsland.classList.remove('expanded');
        updateTime();
      }, duration);
    }

    function handleSend() {
      const txt = userInput.value.trim();
      if (!txt) return;
      
      addMessage(txt, 'user');
      userInput.value = '';
      
      // Screen shake effect
      document.body.style.animation = 'shake 0.5s ease-in-out';
      setTimeout(() => document.body.style.animation = 'none', 500);
      
      setTimeout(() => {
        handleCommand(txt);
      }, 800);
    }

    function handleCommand(txt) {
      const cmd = txt.toLowerCase();

      if (cmd === '/dowmod' || cmd === 'dowmod') {
        addMessage('🔮 Khởi động hệ thống tải mod...', 'bot', true);
        
        let html = '<div class="neon-text" style="margin-top: 10px;">';
        const mods = [
          { 
            title: 'NAKROTH GKTS', 
            desc: 'NAKROTH Skin Mod - High Quality Graphics', 
            img: 'https://i.postimg.cc/L5K9dVrK/53202.jpg', 
            link: 'https://www.mediafire.com/file/lahx0a7mbghy3wl/NAKROTH_GKTS-XMOD.zip/file' 
          },
          { 
            title: 'NAKROTH TTVT', 
            desc: 'NAKROTH Thunder Skin - Premium Edition', 
            img: 'https://i.postimg.cc/7PJd5vbP/16712.jpg', 
            link: 'https://www.mediafire.com/file/l9n4gopwl4ygdbf/NAKROTH_TTVT-XMOD.zip/file' 
          },
          { 
            title: 'Resources Pack', 
            desc: 'Complete Game Resources - Latest Update', 
            img: 'https://i.postimg.cc/YSCWv57R/lien-quan-x-conan-lich-ra-mat-tat-ca-cac-skin-collab-1.webp', 
            link: 'https://www.mediafire.com/file/oi7bhkm1fqbb1p8/Resources_28.8.zip/file' 
          }
        ];
        
        mods.forEach(m => {
          html += '<div class="mod-card">';
          html += '<img src="'+m.img+'" alt="'+m.title+'" loading="lazy" onerror="this.src=\'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODAiIGhlaWdodD0iODAiIHZpZXdCb3g9IjAgMCA4MCA4MCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjgwIiBoZWlnaHQ9IjgwIiBmaWxsPSIjMTExIi8+CjxwYXRoIGQ9Ik00MCAyMEM0Ni42Mjc0IDIwIDUyIDI1LjM3MjYgNTIgMzJDNTIgMzguNjI3NCA0Ni42Mjc0IDQ0IDQwIDQ0QzMzLjM3MjYgNDQgMjggMzguNjI3NCAyOCAzMkMyOCAyNS4zNzI2IDMzLjM3MjYgMjAgNDAgMjBaIiBmaWxsPSIjZmZmIi8+CjxwYXRoIGQ9Ik0yNCA0OEgyNEM1Ni0wMDAgNDhINTZDNTggNDggNjAgNTAgNjAgNTJWNTZDNjAgNTggNTggNjAgNTYgNjBIMjRDMjIgNjAgMjAgNTggMjAgNTZWNTJDMjAgNTAgMjIgNDggMjQgNDhaIiBmaWxsPSIjZmZmIi8+Cjwvc3ZnPgo=\';">';
          html += '<div class="mod-info">';
          html += '<h4 class="neon-text">'+m.title+'</h4>';
          html += '<p>'+m.desc+'</p>';
          html += '<a href="'+m.link+'" target="_blank" class="neon-text">⬇️ DOWNLOAD</a>';
          html += '</div></div>';
        });
        
        html += '</div>';
        
        setTimeout(() => {
          addHtmlMessage(html, 'bot');
          showDynamic('Mod Database', '🔮');
        }, 1200);
        
      } else if (cmd === '/playmusic' || cmd === 'playmusic') {
  addMessage('🎵 Activating neural music interface...', 'bot', true);
  
  const musicHtml = `
    <div class="neon-text music-info">
      🎶 NOW PLAYING: <strong>SONG ${currentSong + 1}</strong>
      <div class="music-controls">
        <button class="music-btn neon-text" onclick="playMusic()">▶️ PLAY</button>
        <button class="music-btn neon-text" onclick="pauseMusic()">⏸️ PAUSE</button>
        <button class="music-btn neon-text" onclick="prevSong()">⏮️ PREV</button>
        <button class="music-btn neon-text" onclick="nextSong()">⏭️ NEXT</button>
      </div>
      <div style="background: linear-gradient(90deg, #ffffff, #cccccc); height: 4px; border-radius: 2px; margin-top: 10px; animation: pulse 2s infinite;"></div>
    </div>
  `;
  
  setTimeout(() => {
    addHtmlMessage(musicHtml, 'bot');
    playMusic(); // Auto play music
    showDynamic('Neural Music Active', '🎵');
  }, 1000);
        
      } else if (cmd === '/charge' || cmd === 'charge') {
        addMessage('⚡ Scanning power grid...', 'bot', true);
        
        setTimeout(() => {
          const batteryHtml = `
            <div class="battery-info neon-text">
              🔋 <strong>POWER STATUS:</strong>
              <div class="battery-bar">
                <div class="battery-fill" style="width: 85%;"></div>
              </div>
              <span style="text-shadow: 0 0 10px #ffffff;">85%</span>
            </div>
            <p class="neon-text">⚡ QUANTUM CHARGING... ETA: ~47 minutes</p>
          `;
          
          addHtmlMessage(batteryHtml, 'bot');
          showDynamic('🔋 Power: 85%', '⚡');
        }, 1200);
        
      } else if (cmd.startsWith('/')) {
        addMessage('❌ COMMAND NOT FOUND! Try: /dowmod, /playmusic, /charge', 'bot', true);
        showDynamic('System Error', '❌');
        
      } else {
        const responses = [
          '🤖 NEURAL RESPONSE: "' + txt + '" - Data processed.',
          '💭 AI ANALYSIS: Your message "' + txt + '" has been decoded.',
          '🔍 CYBER SCAN: Input "' + txt + '" analyzed and stored.',
          '⚡ QUANTUM ECHO: "' + txt + '" - Signal received loud and clear.'
        ];
        
        const randomResponse = responses[Math.floor(Math.random() * responses.length)];
        addMessage(randomResponse, 'bot', true);
        showDynamic('AI Response', '🤖');
      }
    }

    sendBtn.addEventListener('click', handleSend);
    
    userInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        handleSend();
      }
    });

    // Enhanced input effects
    userInput.addEventListener('input', () => {
      if (Math.random() < 0.1) {
        createFloatingParticle();
      }
    });

    // Donate functionality
    const donateBtn = document.getElementById('donateBtn');
    const qrModal = document.getElementById('qrModal');

    donateBtn.addEventListener('click', () => {
      qrModal.style.display = 'flex';
      showDynamic('Quantum Donate', '💎');
    });

    document.addEventListener('click', (e) => {
      if (e.target === qrModal) {
        qrModal.style.display = 'none';
      }
    });

    // Welcome message
    setTimeout(() => {
      addMessage('🌟 Welcome to NEON XMOD Chatbot!', 'bot', true);
      setTimeout(() => {
        addMessage('/dowmod,/playmusic,/charge','bot',true);
      }, 1500);
      showDynamic('System Online', '🌟');
    }, 1000);

    // Prevent context menu on right click for better UX
    document.addEventListener('contextmenu', (e) => {
      e.preventDefault();
    });

    console.log('🚀 WHITE NEON XMOD CHATBOT LOADED - ALL SYSTEMS OPERATIONAL!');
    // Music playlist
const playlist = [
  'https://www.dropbox.com/scl/fi/003fj25b92y8jio117ip9/Legends-Never-Die-ft.-Against-The-Current-2017.mp3?rlkey=s3qb0nb4ypbjj4w8kqrzq1udy&dl=1',
  'https://www.dropbox.com/scl/fi/735t19z143hw1d9r0w0mp/HUNTRIX-What-It-Sounds-Like-Lyrics-Color-Coded-Lyrics.mp3?rlkey=3dqio29i3juaj79v9wblvssrh&st=fhzezkvq&dl=1', 
  'https://www.dropbox.com/scl/fi/fbfi2t9cd7jf2qsh7kbim/Free-Official-Lyric-Video-Sony-Animation.mp3?rlkey=bw1o07z119rzsdph4kuot7mj0&st=o2atldcu&dl=1'
];

let currentSong = 0;
const audioPlayer = new Audio();
audioPlayer.volume = 0.5;

function playMusic() {
  audioPlayer.src = playlist[currentSong];
  audioPlayer.play();
}

function nextSong() {
  currentSong = (currentSong + 1) % playlist.length;
  playMusic();
}
</script>


</body>
   </html>
